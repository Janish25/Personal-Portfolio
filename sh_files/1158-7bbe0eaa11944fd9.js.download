"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1158],{46737:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(26042),o=t(85893),i=t(67294),u=t(7297);function l(){var n=(0,u.Z)(["\n  width: 100%;\n  min-height: 96px;\n  padding: 12px;\n  color: ",";\n  caret-color: ",";\n  background-color: ",";\n  box-shadow: ",";\n  border: 0;\n  border-radius: 5px;\n  outline: none;\n\n  @media (hover: hover) {\n    &:hover {\n      box-shadow: ",";\n    }\n  }\n\n  &:focus {\n    box-shadow: ",";\n  }\n\n  &::placeholder {\n    color: ",";\n  }\n"]);return l=function(){return n},n}var a=t(19521).ZP.textarea.withConfig({componentId:"sc-2007db8-0"})(l(),function(n){return n.theme.color.text},function(n){return n.theme.color.text},function(n){return n.theme.color.inputBackground},function(n){return n.theme.color.inputBoxShadow},function(n){return n.theme.color.inputBoxShadowHover},function(n){return n.theme.color.inputBoxShadowFocus},function(n){return n.theme.color.inputPlaceholder}),d=(0,i.forwardRef)(function(n,e){return(0,o.jsx)(a,(0,r.Z)({ref:e},n))})},1329:function(n,e,t){var r,o;t.d(e,{o:function(){return r}}),(o=r||(r={})).Number="NUMBER",o.Text="TEXT"},84949:function(n,e,t){t.d(e,{M:function(){return i},f:function(){return o}}),(r=o||(o={})).Metadata="METADATA",r.InputField="INPUT_FIELD",r.HiddenField="HIDDEN_FIELD",r.CalculatedField="CALCULATED_FIELD";var r,o,i=function(n){return Object.values(o).includes(null==n?void 0:n.type)}},24456:function(n,e,t){var r,o,i,u,l,a,d,c,f,p,s,v;t.d(e,{CB:function(){return l},Km:function(){return a},Us:function(){return r},cX:function(){return i},wx:function(){return u}}),(d=r||(r={})).Insert="FormBuilder.Insert",d.Replace="FormBuilder.Replace",d.ReplaceAll="FormBuilder.ReplaceAll",d.Remove="FormBuilder.Remove",d.Move="FormBuilder.Move",d.CreateColumnList="FormBuilder.CreateColumnList",d.CreateColumn="FormBuilder.CreateColumn",d.AddToColumn="FormBuilder.AddToColumn",d.DetachFromColumn="FormBuilder.DetachFromColumn",d.UpdateColumnRatio="FormBuilder.UpdateColumnRatio",d.UpdateValue="FormBuilder.UpdateValue",d.UpdatePayload="FormBuilder.UpdatePayload",d.Refresh="FormBuilder.Refresh",d.RefreshAll="FormBuilder.RefreshAll",d.UpdateFormSettings="FormBuilder.UpdateFormSettings",d.OpenInsertBlockMenu="FormBuilder.OpenInsertBlockMenu",d.OpenBlockSettingsContextMenu="FormBuilder.OpenBlockSettingsContextMenu",d.OpenBlockActionsContextMenu="FormBuilder.OpenBlockActionsContextMenu",d.OpenTextFormatContextMenu="FormBuilder.OpenTextFormatContextMenu",d.OpenAuthMenu="FormBuilder.OpenAuthMenu",d.OpenTallyProMenu="FormBuilder.OpenTallyProMenu",d.OpenMentionMenu="FormBuilder.OpenMentionMenu",d.OpenMentionSettingsMenu="FormBuilder.OpenMentionSettingsMenu",d.InsertMention="FormBuilder.InsertMention",d.RemoveMention="FormBuilder.RemoveMention",d.UpdateMention="FormBuilder.UpdateMention",d.UpdateConditionals="FormBuilder.UpdateConditionals",d.UpdateConditionalActions="FormBuilder.UpdateConditionalAction",d.UpdateCalculatedFields="FormBuilder.UpdateCalculatedFields",d.UpdateHiddenFields="FormBuilder.UpdateHiddenFields",d.OpenCommandsMenu="FormBuilder.OpenCommandsMenu",d.OpenBulkInsertOptionsMenu="FormBuilder.OpenBulkInsertOptionsMenu",d.Undo="FormBuilder.Undo",d.Redo="FormBuilder.Redo",d.AddTitle="FormBuilder.AddTitle",(c=o||(o={})).Question="QUESTION",c.Field="FIELD",c.Layout="LAYOUT",(f=i||(i={})).Upload="UPLOAD",f.Link="LINK",f.Unsplash="UNSPLASH",f.Gallery="GALLERY",(p=u||(u={})).Start="START",p.End="END",p.Inherit="INHERIT",(s=l||(l={})).SignUp="SIGN_UP",s.Publish="PUBLISH",s.PaymentBlock="PAYMENT_BLOCK",s.TallyPro="TALLY_PRO",(v=a||(a={})).AddLink="ADD_LINK",v.ApplyLastTextColor="APPLY_LAST_TEXT_COLOR"},2769:function(n,e,t){var r,o,i,u,l,a,d,c,f,p;t.d(e,{Fn:function(){return r},LN:function(){return o},Us:function(){return l},mO:function(){return i},yR:function(){return u}}),(a=r||(r={})).And="AND",a.Or="OR",(d=o||(o={})).Addition="ADDITION",d.Subtraction="SUBTRACTION",d.Multiplication="MULTIPLICATION",d.Division="DIVISION",d.Assignment="ASSIGNMENT",(c=i||(i={})).Is="IS",c.IsNot="IS_NOT",c.IsAnyOf="IS_ANY_OF",c.IsEveryOf="IS_EVERY_OF",c.Contains="CONTAINS",c.DoesNotContain="DOES_NOT_CONTAIN",c.StartsWith="STARTS_WITH",c.DoesNotStartWith="DOES_NOT_START_WITH",c.EndsWith="ENDS_WITH",c.DoesNotEndWith="DOES_NOT_END_WITH",c.IsEmpty="IS_EMPTY",c.IsNotEmpty="IS_NOT_EMPTY",c.Equal="EQUAL",c.NotEqual="NOT_EQUAL",c.GreaterThan="GREATER_THAN",c.LessThan="LESS_THAN",c.GreaterOrEqualThan="GREATER_OR_EQUAL_THAN",c.LessOrEqualThan="LESS_OR_EQUAL_THAN",c.IsBefore="IS_BEFORE",c.IsAfter="IS_AFTER",(f=u||(u={})).Single="SINGLE",f.Group="GROUP",(p=l||(l={})).JumpToPage="JUMP_TO_PAGE",p.Calculate="CALCULATE",p.RequireAnswer="REQUIRE_ANSWER",p.ShowBlocks="SHOW_BLOCKS",p.HideBlocks="HIDE_BLOCKS",p.HideButtonToDisableCompletion="HIDE_BUTTON_TO_DISABLE_COMPLETION"},28434:function(n,e,t){t.d(e,{SL:function(){return l},_L:function(){return i},sw:function(){return u}});var r=t(45701),o=t(65624),i=function(n,e){return!!e&&!!e.isRequired&&(null==e?void 0:e.isRequired)&&(e.titleBlockUuid===n||!e.titleBlockUuid&&e.isRequiredBlockUuid===n)},u=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],o=!1,i=!0,u=!1,l=void 0;try{for(var a,d=n[Symbol.iterator]();!(i=(a=d.next()).done);i=!0){var c=a.value;if(o||c.uuid===e)o=!0;else{r.push(c);continue}if(o&&t.includes(c.type)){r.push(c);continue}}}catch(n){u=!0,l=n}finally{try{i||null==d.return||d.return()}finally{if(u)throw l}}return r},l=function(n,e){if(!r.LQ.includes(n.type))return!1;var t=e.find(function(e){return e.groupUuid===n.blockGroupUuid});return!t||t.type!==o.kH.MultipleChoiceOption&&t.type!==o.kH.Dropdown||!t.payload.allowMultiple}},4533:function(n,e,t){t.d(e,{u:function(){return i}});var r=t(77809),o=t(42344),i=function(n,e){var t=e.find(function(e){return e.uuid===n});if(!t)return"";if("value"in t)return(0,o.Vt)(t.value);var i=t.payload.safeHTMLSchema;return(0,o.Vt)((0,r.Du)(i))}},42580:function(n,e,t){t.d(e,{DM:function(){return d},V3:function(){return a},VY:function(){return c},X4:function(){return s},YB:function(){return p},YQ:function(){return y},fG:function(){return f},vE:function(){return l},yj:function(){return v}});var r=t(17621),o=t.n(r),i=t(40225),u={},l={red:i.B.redDark2,orange:i.B.orangeDark2,yellow:i.B.yellowDark2,green:i.B.greenDark2,blue:i.B.blueDark2,purple:i.B.purpleDark2,pink:i.B.pinkDark2,gray:i.B.text},a={gray:i.B.grayBackground,red:i.B.redLight2,orange:i.B.orangeLight2,yellow:i.B.yellowLight1,green:i.B.greenLight2,blue:i.B.blueLight2,purple:i.B.purpleLight2,pink:i.B.pinkLight2},d={gray:i.B.grayBackground,red:i.B.redLight1,orange:i.B.orangeLight1,yellow:i.B.yellowLight1,green:i.B.greenLight1,blue:i.B.blueLight1,purple:i.B.purpleLight1,pink:i.B.pinkLight1},c={gray:i.B.gray,red:i.B.red,orange:i.B.orange,yellow:i.B.yellowDark1,green:i.B.green,blue:i.B.blue,purple:i.B.purple,pink:i.B.pink},f=function(n,e){var t="".concat(n,"_").concat(e);if(u[t])return u[t];var r=o()(n).setAlpha(e).toRgbString();return u[t]=r,r},p=function(n){return"".concat(o()(n).setAlpha(.12).toRgbString(),"  0px 1px 1px 0px, ").concat(o()(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px, ").concat(o()(n).setAlpha(.08).toRgbString()," 0px 2px 5px 0px")},s=function(n){return"".concat(n," 0px 0px 0px 2px, ").concat(o()(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px")},v=function(n){var e=Object.keys(l);return e[n%e.length]},y=function(n,e){return!!n&&!!e&&o()(n).toHex()===o()(e).toHex()}},35516:function(n,e,t){t.d(e,{X:function(){return l},_:function(){return u}});var r,o=t(47568),i=t(20414),u=function(n){return new Promise(function(e){return setTimeout(e,n)})},l=(r=(0,o.Z)(function(n){var e,t,r,o=arguments;return(0,i.__generator)(this,function(i){switch(i.label){case 0:e=o.length>1&&void 0!==o[1]?o[1]:250,t=o.length>2&&void 0!==o[2]?o[2]:null,r=0,i.label=1;case 1:if(!(!n()&&(null===t||r<t)))return[3,3];return[4,u(e)];case 2:return i.sent(),r+=e,[3,1];case 3:return[2]}})}),function(n){return r.apply(this,arguments)})},1405:function(n,e,t){t.d(e,{In:function(){return s},VN:function(){return v},WW:function(){return p},cO:function(){return m},dV:function(){return h},m8:function(){return y}});var r=t(8773),o=t(45701),i=t(65624),u=t(84949),l=t(2769),a=t(28434),d=t(92010),c=t(4533),f=t(42344),p=function(){return{uuid:(0,r.Z)()}},s=function(){return{uuid:(0,r.Z)()}},v=function(n,e){var t=[],r=[];return(null==e?void 0:e.beforeBlockUuid)&&(n=(0,a.sw)(n,e.beforeBlockUuid,null==e?void 0:e.alwaysIncludeBlockTypes)),(null==e?void 0:e.filterOutBlockTypes)&&e.filterOutBlockTypes.length>0&&(n=n.filter(function(n){var t=n.type;return!1===e.filterOutBlockTypes.includes(t)})),(null==e?void 0:e.includeMetadata)&&(t.push({uuid:"id",type:u.f.Metadata,questionType:i.kH.FormTitle,blockGroupUuid:"id",title:"id"}),t.push({uuid:"respondentId",type:u.f.Metadata,questionType:i.kH.FormTitle,blockGroupUuid:"respondentId",title:"respondentId"}),t.push({uuid:"formName",type:u.f.Metadata,questionType:i.kH.FormTitle,blockGroupUuid:"formName",title:"formName"})),n.forEach(function(l){if(!r.includes(l.groupUuid)){if(l.type===i.kH.CalculatedFields)l.payload.calculatedFields.filter(function(n){return n.name&&n.type}).forEach(function(n){t.push({uuid:n.uuid,type:u.f.CalculatedField,questionType:i.kH.CalculatedFields,blockGroupUuid:l.groupUuid,title:n.name||"",calculatedFieldType:n.type})});else if(l.type===i.kH.HiddenFields)l.payload.hiddenFields.forEach(function(n){t.push({uuid:n.uuid,type:u.f.HiddenField,questionType:i.kH.HiddenFields,blockGroupUuid:l.groupUuid,title:n.name||""})});else if(l.type!==i.kH.Matrix||(null==e?void 0:e.combineMatrix)){var a=(0,d.Z9)(l,n);a&&t.push({uuid:a.blockGroupUuid,type:u.f.InputField,questionType:a.type,blockGroupUuid:a.blockGroupUuid,title:(0,f.CL)(a.title||"")})}else{var p=n.filter(function(n){return n.groupUuid===l.groupUuid&&n.type===i.kH.MatrixRow}),s=(0,d.Z9)(l,n);p.forEach(function(e){var r=(0,c.u)(e.uuid,n);s&&s.title&&s.title!==o.d4[i.kH.Matrix]&&(r="".concat(s.title," [").concat(r,"]")),t.push({uuid:e.uuid,type:u.f.InputField,questionType:i.kH.Matrix,blockGroupUuid:e.groupUuid,title:r})})}r.push(l.groupUuid)}}),t},y=function(n,e){var t=n.title;return n.type===u.f.Metadata&&(t=e("form-builder.mention-menu.metadata.".concat(n.uuid))),t},h=function(n,e,t){var r=!1,o=!0,u=!1,a=void 0;try{for(var d,c,f=(null!==(d=n.conditionals)&&void 0!==d?d:[])[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var p,s,v,y,m,g=c.value;if((null===(p=g.payload)||void 0===p?void 0:null===(s=p.field)||void 0===s?void 0:s.blockGroupUuid)&&t.includes(g.payload.field.blockGroupUuid)||(null===(v=g.payload)||void 0===v?void 0:null===(y=v.value)||void 0===y?void 0:y.blockGroupUuid)&&t.includes(g.payload.value.blockGroupUuid)||g.type===l.yR.Group&&(null===(m=g.payload)||void 0===m?void 0:m.conditionals)&&(r=h(g.payload,e,t)))return!0}}catch(n){u=!0,a=n}finally{try{o||null==f.return||f.return()}finally{if(u)throw a}}var k=!0,b=!1,T=void 0;try{for(var U,x,B=(null!==(U=n.actions)&&void 0!==U?U:[])[Symbol.iterator]();!(k=(x=B.next()).done);k=!0){var O,A,N,H,S,E,F,M,L,w,C,I=x.value;if((null===(O=I.payload)||void 0===O?void 0:O.requireAnswer)&&t.includes(I.payload.requireAnswer)||(null===(A=I.payload)||void 0===A?void 0:null===(N=A.calculate)||void 0===N?void 0:null===(H=N.field)||void 0===H?void 0:H.blockGroupUuid)&&t.includes(I.payload.calculate.field.blockGroupUuid))return!0;if((null===(S=I.payload)||void 0===S?void 0:null===(E=S.calculate)||void 0===E?void 0:null===(F=E.value)||void 0===F?void 0:F.blockGroupUuid)&&t.includes(I.payload.calculate.value.blockGroupUuid))return!0;if((null===(M=I.payload)||void 0===M?void 0:M.showBlocks)&&I.payload.showBlocks.some(function(n){return n===e.uuid}))return!0;else if((null===(L=I.payload)||void 0===L?void 0:L.hideBlocks)&&I.payload.hideBlocks.some(function(n){return n===e.uuid}))return!0;else if((null===(w=I.payload)||void 0===w?void 0:w.jumpToPage)===e.uuid||(null===(C=I.payload)||void 0===C?void 0:C.jumpToPage)&&e.type===i.kH.PageBreak)return!0}}catch(n){b=!0,T=n}finally{try{k||null==B.return||B.return()}finally{if(b)throw T}}return r},m=function(n,e){var t=!0,r=!1,o=void 0;try{for(var i,u=n.calculatedFields[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){var l,a=i.value;if((null===(l=a.value)||void 0===l?void 0:l.blockGroupUuid)&&e.includes(a.value.blockGroupUuid))return!0}}catch(n){r=!0,o=n}finally{try{t||null==u.return||u.return()}finally{if(r)throw o}}return!1}},55456:function(n,e,t){t.d(e,{UU:function(){return s},tK:function(){return h},x8:function(){return v},xb:function(){return y}});var r=t(26042),o=t(69396),i=t(36305),u=t(96486),l=t(45701),a=t(65624),d=t(42580),c=t(83608),f=t(77809),p=t(42344),s=function(n){var e=[],t=[];return n.forEach(function(i){var u,c,s,v,y=i.type,h=i.groupUuid,m=i.groupType;l.$v.includes(y)?(t.push(h),e.push((0,o.Z)((0,r.Z)({},i),{payload:(0,o.Z)((0,r.Z)({},i.payload),{html:(0,f.Du)(i.payload.safeHTMLSchema,!0)})}))):m===a.kH.Dropdown||m===a.kH.MultiSelect?!1===t.includes(h)&&(t.push(h),e.push((0,o.Z)((0,r.Z)({},i),{uuid:i.groupUuid,type:i.groupType,payload:(0,o.Z)((0,r.Z)({},i.payload),{placeholder:i.payload.placeholder?(0,p.CL)(i.payload.placeholder):null,options:n.filter(function(n){return n.groupUuid===h}).map(function(n){return{value:n.uuid,text:n.payload.text?(0,p.CL)(n.payload.text):"",image:null!==(u=n.payload.image)&&void 0!==u?u:null,color:null!==(c=n.payload.color)&&void 0!==c?c:(0,d.yj)(n.payload.index)}})})}))):[a.kH.MultipleChoice,a.kH.Checkboxes,a.kH.Ranking].includes(m)?((null==i?void 0:null===(s=i.payload)||void 0===s?void 0:s.text)&&(i.payload.text=(0,p.CL)(i.payload.text)),t.push(h),e.push(i)):((null==i?void 0:null===(v=i.payload)||void 0===v?void 0:v.placeholder)&&(i.payload.placeholder=(0,p.CL)(i.payload.placeholder)),t.push(h),e.push(i))}),e},v=function(n){var e=[],t=[];return n.forEach(function(n){n.type!==a.kH.PageBreak?t.push(n):(e.push(t),t=[])}),t.length>0&&e.push(t),e},y=function(n){var e=(0,u.uniq)(n.filter(function(n){var e=n.groupType,t=n.payload,r=n.type;return t.randomize&&l.FW.includes(e)||t.randomizeRows&&r===a.kH.MatrixRow})).map(function(n){return n.groupUuid}),t=(0,i.Z)(n);return e.forEach(function(e){var i=[],l=[];n.forEach(function(n,t){n.groupUuid===e&&n.type!==a.kH.Matrix&&n.type!==a.kH.MatrixColumn&&(i.push(n),l.push(t))});var d=(0,u.shuffle)(i);l.forEach(function(n,e){var i=t[n].payload,u=i.columnUuid,a=i.columnListUuid,c=i.columnRatio;t[n]=(0,o.Z)((0,r.Z)({},d[e]),{payload:(0,o.Z)((0,r.Z)({},d[e].payload),{index:e,isFirst:0===e,isLast:e===l.length-1})}),u&&(t[n].payload.columnUuid=u,t[n].payload.columnListUuid=a,t[n].payload.columnRatio=c)})}),t},h=function(n,e){var t=(0,u.uniq)(n.filter(function(n){return n.groupType===a.kH.Ranking}).map(function(n){return n.groupUuid}));if(0===t.length)return n;var l=(0,i.Z)(n);return t.forEach(function(t){if(!(0,c.xb)(e[t])){var i=[],u=[];n.forEach(function(n,e){n.groupUuid===t&&(i.push(n),u.push(e))}),u.forEach(function(n,a){var d=void 0,c=e[t][a];if(void 0!==c&&(d=i.find(function(n){return n.uuid===c}),i=i.filter(function(n){return n.uuid!==c})),d||(d=i.shift()),d){var f=l[n].payload,p=f.columnListUuid,s=f.columnUuid,v=f.columnRatio;l[n]=(0,o.Z)((0,r.Z)({},d),{payload:(0,o.Z)((0,r.Z)({},d.payload),{index:a,isFirst:0===a,isLast:a===u.length-1})}),s&&(l[n].payload.columnUuid=s,l[n].payload.columnListUuid=p,l[n].payload.columnRatio=v)}})}}),l}},6666:function(n,e,t){t.d(e,{d:function(){return s},l:function(){return p}});var r=t(14924),o=t(26042),i=t(69396),u=t(44431),l=t(65624),a=t(1329),d=t(2769),c=t(14859),f=t(55931),p=function(n,e){return e.filter(function(n){return n.type===l.kH.CalculatedFields}).forEach(function(t){var r=t.groupUuid;t.payload.calculatedFields.forEach(function(t){void 0!==t.value&&(void 0===n[r]&&(n[r]={}),n[r][t.uuid]=(0,c.Jc)(t.value,t.type,n,e))})}),n},s=function(n,e,t,s){if(0===s.filter(function(n){return n.type===l.kH.CalculatedFields}).length||(n=p(n,s),0===s.filter(function(n){return n.type===l.kH.ConditionalLogic}).length))return n;var v=!0,y=!1,h=void 0;try{for(var m,g=e[Symbol.iterator]();!(v=(m=g.next()).done);v=!0){var k=m.value,b=null!==(O=t[k-1])&&void 0!==O?O:[];k>1&&(n=p(n,b));var T=b.filter(function(n){return n.type===l.kH.ConditionalLogic}),U=!0,x=!1,B=void 0;try{for(var O,A,N=T[Symbol.iterator]();!(U=(A=N.next()).done);U=!0){var H=A.value.payload,S=H.logicalOperator,E=H.conditionals,F=H.actions;if((0,f.VX)(E,S,n)){var M=!0,L=!1,w=void 0;try{for(var C,I=F[Symbol.iterator]();!(M=(C=I.next()).done);M=!0){var R,Z,D,_,P,G,q=C.value;if(q.type===d.Us.Calculate&&(null===(R=q.payload)||void 0===R?void 0:null===(Z=R.calculate)||void 0===Z?void 0:Z.field)&&(null===(D=q.payload)||void 0===D?void 0:null===(_=D.calculate)||void 0===_?void 0:_.operator)&&void 0!==(null===(P=q.payload)||void 0===P?void 0:null===(G=P.calculate)||void 0===G?void 0:G.value)){var j=(0,c.zp)(n,q.payload.calculate.field),W=(0,c.Jc)(q.payload.calculate.value,q.payload.calculate.field.calculatedFieldType,n,s);switch(q.payload.calculate.field.calculatedFieldType===a.o.Number&&(j=new u.BigNumber(j),W=new u.BigNumber(W)),q.payload.calculate.operator){case d.LN.Addition:"object"==typeof j?j=j.plus(W):j+=W;break;case d.LN.Subtraction:j=j.minus(W);break;case d.LN.Multiplication:j=j.multipliedBy(W);break;case d.LN.Division:j=j.dividedBy(W);break;case d.LN.Assignment:j=W}q.payload.calculate.field.calculatedFieldType===a.o.Number&&(j=j.toNumber()),n=(0,i.Z)((0,o.Z)({},n),(0,r.Z)({},q.payload.calculate.field.blockGroupUuid,(0,i.Z)((0,o.Z)({},n[q.payload.calculate.field.blockGroupUuid]),(0,r.Z)({},q.payload.calculate.field.uuid,j))))}}}catch(n){L=!0,w=n}finally{try{M||null==I.return||I.return()}finally{if(L)throw w}}}}}catch(n){x=!0,B=n}finally{try{U||null==N.return||N.return()}finally{if(x)throw B}}}}catch(n){y=!0,h=n}finally{try{v||null==g.return||g.return()}finally{if(y)throw h}}return n}},14859:function(n,e,t){t.d(e,{C7:function(){return j},Ee:function(){return S},J0:function(){return W},Jc:function(){return w},KN:function(){return R},MZ:function(){return V},Md:function(){return P},O2:function(){return q},O6:function(){return _},Sz:function(){return z},Tp:function(){return X},X1:function(){return K},_j:function(){return nn},bZ:function(){return G},bm:function(){return Z},iM:function(){return F},lL:function(){return D},lo:function(){return L},mh:function(){return Q},sy:function(){return C},wm:function(){return $},zj:function(){return I},zp:function(){return M}});var r=t(14924),o=t(26042),i=t(69396),u=t(66671),l=t(61436),a=t(23855),d=t(42404),c=t.n(d),f=t(8773),p=t(45701),s=t(65624),v=t(1329),y=t(84949),h=t(2769),m=t(28434),g=t(92010),k=t(4533),b=t(27945),T=t(1405),U=t(55456),x=t(6666),B=t(55931),O=t(83608),A=t(67342),N=t(49638),H=t(23443),S=function(n,e,t,r){if(void 0===e)return"";if(p.FW.includes(n))return E(n,e,t,r);if(n===s.kH.InputDate){var o=(0,a.Z)(e);return(0,l.Z)(o)?(0,u.Z)(o,"MMMM d, yyyy"):""}if(n===s.kH.InputNumber){var i,d,c,f,v=t.find(function(n){return n.groupUuid===r});return(0,A.uf)(e,{decimalSeparator:null==v?void 0:null===(i=v.payload)||void 0===i?void 0:i.decimalSeparator,thousandsSeparator:null==v?void 0:null===(d=v.payload)||void 0===d?void 0:d.thousandsSeparator,prefix:null==v?void 0:null===(c=v.payload)||void 0===c?void 0:c.prefix,suffix:null==v?void 0:null===(f=v.payload)||void 0===f?void 0:f.suffix})}return e},E=function(n,e,t,r){if(!e)return"";if(n===s.kH.Checkboxes||n===s.kH.MultiSelect)return t.filter(function(n){return e.includes(n.uuid)}).map(function(n){return n.payload.text}).join(", ");if(n===s.kH.Ranking)return e.map(function(n){var e;return null!==(o=null===(e=t.find(function(e){return e.uuid===n}))||void 0===e?void 0:e.payload.text)&&void 0!==o?o:""}).join(", ");if([s.kH.MultipleChoice,s.kH.Dropdown].includes(n))return Array.isArray(e)?t.filter(function(n){return e.includes(n.uuid)}).map(function(n){return n.payload.text}).join(", "):null!==(u=null===(i=t.find(function(n){return n.uuid===e}))||void 0===i?void 0:i.payload.text)&&void 0!==u?u:"";if(n===s.kH.Matrix){var o,i,u,l=[];if(l=r?e[r]:e)return l.map(function(n){return(0,k.u)(n,t)}).join(", ")}return e},F=function(n,e,t,r){if("string"==typeof t){if(e===s.kH.Checkboxes||e===s.kH.Ranking||e===s.kH.MultiSelect){var o=r.filter(function(e){return e.groupUuid===n&&e.payload.text===t}).map(function(n){return n.uuid});return o.length>0?o:t.includes(",")?(t.split(/,\s?/).forEach(function(e){var t=r.find(function(t){return t.groupUuid===n&&t.payload.text===e});t&&o.push(t.uuid)}),o.length>0?o:void 0):void 0}if([s.kH.MultipleChoice,s.kH.Dropdown].includes(e)){var i,u=r.find(function(e){return e.groupUuid===n});if((null==u?void 0:u.payload.allowMultiple)&&t.includes(",")){var l=[];return t.split(/,\s?/).forEach(function(e){var t=r.find(function(t){return t.groupUuid===n&&t.payload.text===e});t&&l.push(t.uuid)}),l.length>0?l:void 0}var a=null===(i=r.find(function(e){return e.groupUuid===n&&e.payload.text===t}))||void 0===i?void 0:i.uuid;return a?[a]:void 0}}},M=function(n,e){return e.uuid===e.blockGroupUuid?n[e.uuid]:n[e.blockGroupUuid]?n[e.blockGroupUuid][e.uuid]:""},L=function(n,e,t){var r=M(n,e);return p.FW.includes(e.questionType)&&(r=E(e.questionType,r,t)),r},w=function(n,e,t,r){return(0,y.M)(n)&&(n=L(t,n,r)),e!==v.o.Number||isNaN(parseFloat(n))||(n=parseFloat(n)),n},C=function(n){var e={};new URLSearchParams(location.search).forEach(function(n,t){e[t]=n});var t={};return n.filter(function(n){return n.type===s.kH.HiddenFields}).forEach(function(n){var r=n.groupUuid;n.payload.hiddenFields.forEach(function(n){(null==n?void 0:n.name)&&void 0!==e[n.name]&&(void 0===t[r]&&(t[r]={}),t[r][n.uuid]=e[n.name])})}),t},I=function(n,e,t,u){var l=(0,x.d)(n,e,t,u),a=u.filter(function(n){return n.type===s.kH.CalculatedFields});return 0===a.length?{}:a.reduce(function(n,e){var t=l[e.groupUuid];return t?(0,i.Z)((0,o.Z)({},n),(0,r.Z)({},e.groupUuid,t)):n},{})},R=function(n,e){var t=(0,H.wf)("FORM_DATA_".concat(n));if(!t)return{};var r=JSON.parse(t),o=Object.keys(r),i=!0,u=!1,l=void 0;try{for(var a,d=o[Symbol.iterator]();!(i=(a=d.next()).done);i=!0)!function(){var n=a.value,t=e.find(function(e){return e.groupUuid===n});if(t&&p.FW.includes(t.groupType)){var o=r[n];if(!(0,O.xb)(o)){var i=e.filter(function(e){return e.groupUuid===n});if(t.groupType===s.kH.Matrix){var u=function(e){if(!i.find(function(n){return n.uuid===e}))return delete r[n][e],"continue";var t=o[e],u=!0,l=!1,a=void 0;try{for(var d,c=t[Symbol.iterator]();!(u=(d=c.next()).done);u=!0)!function(){var t=d.value;i.find(function(n){return n.uuid===t})||(r[n][e]=r[n][e].filter(function(n){return n!==t}))}()}catch(n){l=!0,a=n}finally{try{u||null==c.return||c.return()}finally{if(l)throw a}}};for(var l in o)u(l)}else if(Array.isArray(o)){var d=!0,c=!1,f=void 0;try{for(var v,y=o[Symbol.iterator]();!(d=(v=y.next()).done);d=!0)!function(){var e=v.value;i.find(function(n){return n.uuid===e})||(r[n]=r[n].filter(function(n){return n!==e}))}()}catch(n){c=!0,f=n}finally{try{d||null==y.return||y.return()}finally{if(c)throw f}}}else i.find(function(n){return n.uuid===o})||delete r[n]}}}()}catch(n){u=!0,l=n}finally{try{i||null==d.return||d.return()}finally{if(u)throw l}}return r},Z=function(n,e){(0,H._4)("FORM_DATA_".concat(n),JSON.stringify(e))},D=function(n){(0,H.Tn)("FORM_DATA_".concat(n))},_=function(n){var e="FORM_SESSION_".concat(n),t=(0,H.wf)(e);if(t)return t;var r=(0,f.Z)();return(0,H._4)(e,r),r},P=function(n){(0,H.Tn)("FORM_SESSION_".concat(n))},G=function(n){var e="RESPONDENT",t={},r=(0,H.wf)(e);return r&&(t=JSON.parse(r))&&t[n]||(t[n]=(0,f.Z)(),(0,H._4)(e,JSON.stringify(t))),t[n]},q=function(n,e){return 1===n?e[0]:e.filter(function(n){return n.type===s.kH.PageBreak})[n-2]},j=function(n,e){var t=e.slice(0,n).reverse().filter(function(n){return n.type===s.kH.PageBreak})[0];return null!=t?t:e[0]},W=function(n,e){var t=e.filter(function(n){return[s.kH.FormTitle,s.kH.PageBreak].includes(n.type)}).findIndex(function(e){return e.uuid===n});return -1===t?null:t+1},V=function(n){var e=!1;return n.filter(function(n){return n.type===s.kH.PageBreak}).forEach(function(n){var t=n.payload;(null==t?void 0:t.isThankYouPage)&&(e=!0)}),e},Y=function(n){var e=[];return n.forEach(function(n){n.forEach(function(n){var t=n.payload;e.push((null==t?void 0:t.html)||(null==t?void 0:t.placeholder)||"")})}),/password|pa{0,3}s[s|\\*]{0,2}w[0|o|\\*]{0,3}r{0,1}d|pass\sword|pass\*{1,3}w[o]{0,1}rd|jelszó|пароль|kata[\s|-]{0,2}sandi|sandi anda|contrase[ñ|n][y]{0,1}a|senh[a|ä|á]|Passwort|wachtwoord|Passwört|Şifre|m[o|ö]t[s]{0,1} de passe/i.test(e.join(" "))},J=function(n,e){var t=n.filter(function(n){return n.type===s.kH.ConditionalLogic});if(0===t.length)return!1;var r=!0,o=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var a=u.value.payload,d=a.logicalOperator,c=a.conditionals,f=a.actions,p=!0,v=!1,y=void 0;try{for(var m,g=f[Symbol.iterator]();!(p=(m=g.next()).done);p=!0)if(m.value.type===h.Us.HideButtonToDisableCompletion&&(0,B.VX)(c,d,e))return!0}catch(n){v=!0,y=n}finally{try{p||null==g.return||g.return()}finally{if(v)throw y}}}}catch(n){o=!0,i=n}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return!1},X=function(n,e,t,r,o,i){var u,l,a,d,c,f,p,v,y,h,k,b=null===(u=t[0])||void 0===u?void 0:null===(l=u.payload)||void 0===l?void 0:l.logo,T=null===(a=t[0])||void 0===a?void 0:null===(d=a.payload)||void 0===d?void 0:d.cover,x=null===(c=t[0])||void 0===c?void 0:null===(f=c.payload)||void 0===f?void 0:f.coverSettings,A=e.length,N=null!==(k=e[n-1])&&void 0!==k?k:[];N=(0,B.dp)(N,t,o,i),N=(0,U.tK)(N,o);var H=(0,B.KZ)(n,N,A,t,o),S=q(n,t),E=!!(null==S?void 0:null===(p=S.payload)||void 0===p?void 0:p.isThankYouPage),F=H?q(H,t):void 0,M=null===H||(null==F?void 0:null===(v=F.payload)||void 0===v?void 0:v.isThankYouPage),L=!E&&!J(N,o),w=Array.from((0,g.jZ)(N).values()).filter(function(n){return!1===[s.kH.HiddenFields,s.kH.CalculatedFields].includes(n.type)}),C=!!(null==r?void 0:r.pageAutoJump)&&L&&!M&&1===w.length&&(0,m.SL)(w[0],N),I=w.every(function(n){return void 0!==o[n.blockGroupUuid]&&!1===(0,O.xb)(o[n.blockGroupUuid])});return{logo:b,cover:T,coverSettings:x,pageBlocks:N,pageQuestions:w,nextPage:H,isCustomThankYouPage:E,isLastInputPage:M,canAutoJumpToNextPage:C,pageFilledIn:I,showSubmitButton:L,showBackButton:!E&&1!==n,buttonLabel:null==S?void 0:null===(y=S.payload)||void 0===y?void 0:null===(h=y.button)||void 0===h?void 0:h.label,showMaliciousFormWarning:Y(e)}},K=function(n,e,t,r,o,i){try{var u=[],l=(0,T.VN)((0,U.UU)(o)),a=!0,d=!1,c=void 0;try{for(var f,p=l[Symbol.iterator]();!(a=(f=p.next()).done);a=!0){var s=f.value,v=s.uuid,y=s.title,h=s.questionType;u.push({id:v,title:y,type:h,answer:{value:L(i,s,o),raw:M(i,s)}})}}catch(n){d=!0,c=n}finally{try{a||null==p.return||p.return()}finally{if(d)throw c}}return{id:n,formId:t,formName:r,respondentId:e,createdAt:new Date,fields:u}}catch(n){return(0,N.Tb)(n),{}}},z=function(){setTimeout(function(){var n,e,t=null===(n=document.forms[0])||void 0===n?void 0:n.elements[0];t&&(0,b.PZ)(t)&&("INPUT"===t.tagName&&!1===["radio","checkbox"].includes(null!==(e=t.getAttribute("type"))&&void 0!==e?e:"")||"TEXTAREA"===t.tagName)&&t.focus()},100)},Q=function(){setTimeout(function(){var n=document.querySelector('[aria-invalid="true"]');if(n){n.focus();return}var e=document.querySelector(".tally-validation-error");e&&!1===(0,b.PZ)(e)&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)},$=function(){return c()("ABCDEFGHIJKLMNPQRSTUVWXYZabcdefghijklmnpqrstuvwxyz123456789".split(""),6).join("")},nn=function(n,e,t,r){var o={};return n.forEach(function(n){var i=n.page,u=(0,B.dp)(n.blocks,e,t),l=Array.from((0,g.jZ)(u).values()).filter(function(n){return!1===[s.kH.HiddenFields,s.kH.CalculatedFields].includes(n.type)}).filter(function(n){return n.isRequired});if(0===l.length){o[i]=r<i?0:100;return}var a=l.length,d=0;l.forEach(function(n){!(0,O.xb)(t[n.blockGroupUuid])&&d++}),o[i]=r<i?0:d/a*100}),o}},55931:function(n,e,t){t.d(e,{Ai:function(){return T},KZ:function(){return b},VX:function(){return g},dp:function(){return k}});var r=t(14924),o=t(26042),i=t(69396),u=t(36305),l=t(3522),a=t.n(l),d=t(18446),c=t.n(d),f=t(45701),p=t(65624),s=t(84949),v=t(2769),y=t(14859),h=t(49638),m=function(n,e){var t=n.type,r=n.payload;if(t===v.yR.Group&&(null==r?void 0:r.conditionals)&&r.logicalOperator)return g(r.conditionals,r.logicalOperator,e);if(t===v.yR.Single&&(null==r?void 0:r.field)&&(null==r?void 0:r.comparison)){var o=r.field,i=r.comparison,u=r.value,l=(0,y.zp)(e,o);(0,s.M)(u)&&(u=(0,y.zp)(e,u));try{switch(i){case v.mO.Is:if(o.questionType===p.kH.Matrix)return Array.isArray(u)||(u=[u]),void 0!==l&&c()(l,u);if(Array.isArray(l))return 1===l.length&&l[0]===u;return void 0!==l&&l===u;case v.mO.IsNot:if(o.questionType===p.kH.Matrix)return Array.isArray(u)||(u=[u]),void 0!==l&&!c()(l,u);if(Array.isArray(l))return 1!==l.length||l[0]!==u;return void 0!==l&&l!==u;case v.mO.IsAnyOf:if(!Array.isArray(u)||!Array.isArray(l))return u===l;return u.some(function(n){return l.includes(n)});case v.mO.IsEveryOf:if(!Array.isArray(u)||!Array.isArray(l))return u===l;return u.every(function(n){return l.includes(n)});case v.mO.Contains:if(Array.isArray(l))return void 0!==u&&l.includes(u);return void 0!==l&&void 0!==u&&RegExp(a()(u),"i").test(l);case v.mO.DoesNotContain:if(Array.isArray(l))return void 0!==u&&!1===l.includes(u);return void 0!==l&&void 0!==u&&!1===RegExp(a()(u),"i").test(l);case v.mO.StartsWith:return void 0!==l&&void 0!==u&&RegExp("^".concat(a()(u)),"i").test(l);case v.mO.DoesNotStartWith:return void 0!==l&&void 0!==u&&!1===RegExp("^".concat(a()(u)),"i").test(l);case v.mO.EndsWith:return void 0!==l&&void 0!==u&&RegExp("".concat(a()(u),"$"),"i").test(l);case v.mO.DoesNotEndWith:return void 0!==l&&void 0!==u&&!1===RegExp("".concat(a()(u),"$"),"i").test(l);case v.mO.IsEmpty:if(Array.isArray(l))return 0===l.length;return void 0===l||""===l;case v.mO.IsNotEmpty:if(Array.isArray(l))return l.length>0;return void 0!==l&&""!==l;case v.mO.Equal:return Number(l)===Number(u);case v.mO.NotEqual:return Number(l)!==Number(u);case v.mO.GreaterThan:return Number(l)>Number(u);case v.mO.LessThan:return Number(l)<Number(u);case v.mO.GreaterOrEqualThan:return Number(l)>=Number(u);case v.mO.LessOrEqualThan:return Number(l)<=Number(u);case v.mO.IsBefore:if(/^[0-9]{2}:[0-9]{2}$/.test(l))return Date.parse("01/01/2000 ".concat(l))<Date.parse("01/01/2000 ".concat(u));return Date.parse(l)<Date.parse(u);case v.mO.IsAfter:if(/^[0-9]{2}:[0-9]{2}$/.test(l))return Date.parse("01/01/2000 ".concat(l))>Date.parse("01/01/2000 ".concat(u));return Date.parse(l)>Date.parse(u)}}catch(n){(0,h.Tb)(n)}}return!1},g=function(n,e,t){var r=n.map(function(n){return m(n,t)});return e===v.Fn.And&&r.every(function(n){return n})||e===v.Fn.Or&&r.some(function(n){return n})},k=function(n,e,t,l){var a=e.filter(function(n){return n.type===p.kH.ConditionalLogic}),d=e.filter(function(n){return n.payload.isHidden}).map(function(n){return n.uuid});if(0===a.length&&0===d.length)return n;var c=(0,u.Z)(n),s=!0,y=!1,h=void 0;try{for(var m,k=a[Symbol.iterator]();!(s=(m=k.next()).done);s=!0){var b=m.value.payload,T=b.logicalOperator,U=b.conditionals,x=b.actions;if(g(U,T,t)){var B=!0,O=!1,A=void 0;try{for(var N,H=x[Symbol.iterator]();!(B=(N=H.next()).done);B=!0)!function(){var n,e,t,r,l=N.value;l.type===v.Us.ShowBlocks&&(null===(n=l.payload)||void 0===n?void 0:n.showBlocks)&&(d=d.filter(function(n){var e,t;return(null===(e=l.payload)||void 0===e?void 0:null===(t=e.showBlocks)||void 0===t?void 0:t.includes(n))===!1})),l.type===v.Us.HideBlocks&&(null===(e=l.payload)||void 0===e?void 0:e.hideBlocks)&&(d=(0,u.Z)(d).concat((0,u.Z)(null===(r=l.payload)||void 0===r?void 0:r.hideBlocks))),l.type===v.Us.RequireAnswer&&(null===(t=l.payload)||void 0===t?void 0:t.requireAnswer)&&(c=c.map(function(n){var e,t;return(null===(e=l.payload)||void 0===e?void 0:null===(t=e.requireAnswer)||void 0===t?void 0:t.includes(n.groupUuid))?(0,i.Z)((0,o.Z)({},n),{payload:(0,i.Z)((0,o.Z)({},n.payload),{isRequired:!0})}):n}))}()}catch(n){O=!0,A=n}finally{try{B||null==H.return||H.return()}finally{if(O)throw A}}}}}catch(n){y=!0,h=n}finally{try{s||null==k.return||k.return()}finally{if(y)throw h}}if(d.length>0){c=c.filter(function(n){return!1===d.includes(n.uuid)});var S=[];if(e.forEach(function(n){var e=n.uuid,a=n.type,s=n.groupUuid,v=n.groupType,y=n.payload;if(!(!1===d.includes(e)||f.TI.includes(a))){if(f.FW.includes(v)&&S.push(s),void 0!==t[s]&&!(y.hasDefaultAnswer&&void 0!==y.defaultAnswer)&&!f.W_.includes(a)){if(a===p.kH.Checkbox||a===p.kH.RankingOption||a===p.kH.MultiSelectOption){if(Array.isArray(t[s])&&t[s].includes(e)){var h=(0,u.Z)(t[s]);h.splice(h.indexOf(e),1),null==l||l((0,r.Z)({},s,h))}}else if([p.kH.DropdownOption,p.kH.MultipleChoiceOption].includes(a)){if(Array.isArray(t[s])&&t[s].includes(e)){var m=(0,u.Z)(t[s]);m.splice(m.indexOf(e),1),null==l||l((0,r.Z)({},s,m))}else t[s]===e&&(null==l||l((0,r.Z)({},s,void 0)))}else a!==p.kH.Payment&&(null==l||l((0,r.Z)({},s,void 0)))}if(a===p.kH.MatrixRow&&void 0!==t[s]&&t[s][e]&&(null==l||l((0,r.Z)({},s,(0,i.Z)((0,o.Z)({},t[s]),(0,r.Z)({},e,void 0))))),a===p.kH.MatrixColumn&&void 0!==t[s]){var g=Object.keys(t[s]);if(g.length>0){var k=(0,o.Z)({},t[s]),b=!1;g.forEach(function(n){k[n]&&k[n].includes(e)&&(k[n].splice(k[n].indexOf(e),1),b=!0)}),b&&(null==l||l((0,r.Z)({},s,k)))}}(a===p.kH.MatrixRow||a===p.kH.MatrixColumn)&&c.filter(function(n){return n.groupUuid===s&&n.type!==p.kH.Matrix}).every(function(n){return!0===n.payload.isHidden})&&(c=c.filter(function(n){return n.groupUuid!==s}))}}),S.length>0){var E=new Map;c=c.map(function(n){if(S.includes(n.groupUuid)&&(n.type===p.kH.Dropdown||n.type===p.kH.MultiSelect))return(0,i.Z)((0,o.Z)({},n),{payload:(0,i.Z)((0,o.Z)({},n.payload),{options:n.payload.options.filter(function(n){var e=n.value;return!1===d.includes(e)})})});if(S.includes(n.groupUuid)&&[p.kH.MultipleChoiceOption,p.kH.Checkbox,p.kH.RankingOption].includes(n.type)){E.get(n.groupUuid)||E.set(n.groupUuid,{firstBlockUuid:c.find(function(e){return e.groupUuid===n.groupUuid}).uuid,lastBlockUuid:(0,u.Z)(c).reverse().find(function(e){return e.groupUuid===n.groupUuid}).uuid});var e=E.get(n.groupUuid),t=e.firstBlockUuid,r=e.lastBlockUuid;return(0,i.Z)((0,o.Z)({},n),{payload:(0,i.Z)((0,o.Z)({},n.payload),{isFirst:t===n.uuid,isLast:r===n.uuid})})}return n}).filter(function(n){return!((n.type===p.kH.Dropdown||n.type===p.kH.MultiSelect)&&0===n.payload.options.length)})}}return c},b=function(n,e,t,r,o){var i=n+1,u=e.filter(function(n){return n.type===p.kH.ConditionalLogic});if(0===u.length)return i&&i<=t?i:null;var l=!0,a=!1,d=void 0;try{for(var c,f=u[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var s=c.value.payload,h=s.logicalOperator,m=s.conditionals,k=s.actions;if(g(m,h,o)){var b=!0,T=!1,U=void 0;try{for(var x,B=k[Symbol.iterator]();!(b=(x=B.next()).done);b=!0){var O,A,N,H,S=x.value;S.type===v.Us.JumpToPage&&void 0!==(null===(O=S.payload)||void 0===O?void 0:O.jumpToPage)&&(i=(null===(A=S.payload)||void 0===A?void 0:null===(N=A.jumpToPage)||void 0===N?void 0:N.toString())==="0"?null:"number"==typeof(null===(H=S.payload)||void 0===H?void 0:H.jumpToPage)?S.payload.jumpToPage:(0,y.J0)(S.payload.jumpToPage,r))}}catch(n){T=!0,U=n}finally{try{b||null==B.return||B.return()}finally{if(T)throw U}}}}}catch(n){a=!0,d=n}finally{try{l||null==f.return||f.return()}finally{if(a)throw d}}return i&&i<=t?i:null},T=function(n,e,t){for(var r=[1],o=e.length,i=1;null!==i;){var u,l=i,a=e[l-1];if(i=b(l,a,o,n,t),l===i){i=null;continue}if(null!==i){if(r.includes(i)){i=null;continue}var d=(0,y.O2)(i,n);null!=d&&null!==(u=d.payload)&&void 0!==u&&u.isThankYouPage||r.push(i)}}return r}},77809:function(n,e,t){t.d(e,{Bz:function(){return k},CX:function(){return x},Du:function(){return h},F2:function(){return g},cd:function(){return b},dZ:function(){return T},jW:function(){return m},nf:function(){return y},xB:function(){return U}});var r=t(828),o=t(8773),i=t(65624),u=t(1329),l=t(84949),a=t(4533),d=t(27945),c=t(1405),f=t(14859),p=t(67342),s=t(42344),v=t(84825),y=function(n){var e=[];return n&&n.forEach&&0!==n.length&&n.forEach(function(n){if(n.nodeType===Node.TEXT_NODE&&n.textContent)e.push([(0,s.oJ)(n.textContent)]);else if(n.nodeType===Node.ELEMENT_NODE&&(n.childNodes.length>0||"BR"===n.nodeName)){var t,r,o,i,u,l=[];switch(n.nodeName){case"B":l.push(["font-weight","bold"]);break;case"U":l.push(["text-decoration","underline"]);break;case"I":l.push(["font-style","italic"]);break;case"A":var a=n.href;((null==a?void 0:a.match(/^http(s)?:\/\//))||(null==a?void 0:a.match(/^mailto:/))||(null==a?void 0:a.match(/^tel:/))||(null==a?void 0:a.match(/^sms:/)))&&l.push(["href",a]);break;case"FONT":var d=n.color;(null==d?void 0:d.match(/#[0-9a-fA-F]{3,6}/))&&l.push(["color",d]);break;case"DIV":l.push(["tag","div"]);break;case"P":l.push(["tag","p"]);break;case"BR":l.push(["tag","br"]);break;case"SPAN":l.push(["tag","span"])}var c=n.style;if(((null==c?void 0:null===(t=c.color)||void 0===t?void 0:t.match(/#[0-9a-fA-F]{3,6}/))||(null==c?void 0:null===(r=c.color)||void 0===r?void 0:r.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.color)==="inherit")&&l.push(["color",c.color]),((null==c?void 0:null===(o=c.backgroundColor)||void 0===o?void 0:o.match(/#[0-9a-fA-F]{3,6}/))||(null==c?void 0:null===(i=c.backgroundColor)||void 0===i?void 0:i.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.backgroundColor)==="inherit")&&l.push(["background-color",c.backgroundColor]),null==c?void 0:c.fontWeight){var f=null==c?void 0:c.fontWeight;["bolder","lighter"].includes(f)&&(f="bold"),l.push(["font-weight",f])}(null==c?void 0:c.fontStyle)&&l.push(["font-style",c.fontStyle]),(null==c?void 0:c.textDecoration)&&l.push(["text-decoration",c.textDecoration]),(null==c?void 0:c.display)&&l.push(["display",c.display]),"SPAN"===n.nodeName&&(null===(u=n.className)||void 0===u?void 0:u.indexOf("mention"))!==-1&&l.push(["mention",n.dataset.uuid]),l.length>0&&(1===n.childNodes.length&&n.childNodes[0].nodeType===Node.TEXT_NODE&&n.childNodes[0].textContent?e.push([(0,s.oJ)(n.childNodes[0].textContent),l]):"BR"===n.nodeName?e.push(["",l]):e.push([y(n.childNodes),l]))}}),e},h=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t="";return n.forEach(function(n){var o=(0,r.Z)(n,2),i=o[0],u=o[1];if("string"==typeof i&&!u){t+=(0,s.Vt)(i);return}if(u&&u.length>0){var l="span",a=[],d=[];u.forEach(function(n){var t=(0,r.Z)(n,2),o=t[0],u=t[1];"tag"===o&&"div"===u?l="div":"tag"===o&&"p"===u?l="p":"tag"===o&&"br"===u?(l="br",i=""):"href"===o?(l="a",d.push('href="'.concat(u,'"')),d.push('target="_blank"'),d.push('rel="noreferrer"')):"mention"===o?(d.push('class="mention"'),d.push('contenteditable="false"'),d.push('data-uuid="'.concat(u,'"')),e&&(i="")):a.push("".concat(o,": ").concat(u,";"))}),a.length>0&&d.push('style="'.concat(a.join(" "),'"')),"br"===l?t+="<br>":t+="<".concat(l," ").concat(d.join(" "),">").concat("string"==typeof i?i:h(i,e),"</").concat(l,">")}}),t},m=function(n){var e=document.createElement("div");return e.innerHTML=n,h(y(e.childNodes))},g=function(n,e,t,r){if("undefined"==typeof document)return"";var o=h(n.safeHTMLSchema);o=o.replace(/\u200B/g,"");var d=document.createElement("div");d.innerHTML=o;var c=!0,s=!1,y=void 0;try{for(var m,g=n.mentions[Symbol.iterator]();!(c=(m=g.next()).done);c=!0)!function(){var n,o,c=m.value,s=c.uuid,v=c.field,y=c.defaultValue,h=d.querySelectorAll('[data-uuid="'.concat(s,'"]'));if(0!==h.length){var g=v.uuid,k=v.type,b=v.questionType,T=v.blockGroupUuid,U=v.calculatedFieldType,x="";k===l.f.Metadata?x=r[g]:k===l.f.InputField&&b&&T?x=b===i.kH.InputDate?null!==(n=t[T])&&void 0!==n?n:"":(0,f.Ee)(b,t[T],e):[l.f.CalculatedField,l.f.HiddenField].includes(k)&&g&&T&&(x=t[T]?t[T][g]:""),k===l.f.CalculatedField&&U===u.o.Number&&"number"==typeof x&&(x=(0,p.AK)(x,2)),v.questionType===i.kH.Matrix&&(x=(null!==(o=t[v.blockGroupUuid][v.uuid])&&void 0!==o?o:[]).map(function(n){return(0,a.u)(n,e)}).join(",")),(d.textContent.startsWith("http")||d.textContent.startsWith("www."))&&!("string"==typeof x&&-1!==x.indexOf("/"))&&(x=encodeURIComponent(x)),h.forEach(function(n){n.innerHTML=(null==x?void 0:x.toString())||y||""})}}()}catch(n){s=!0,y=n}finally{try{c||null==g.return||g.return()}finally{if(s)throw y}}return(0,v.A9)(d.textContent,!0)},k=function(n){return!(n&&Array.isArray(null==n?void 0:n.safeHTMLSchema))||0===(0,s.Vt)(h(n.safeHTMLSchema)).length},b=function(){var n=document.createElement("div");return n.innerHTML="Tally Forms",{safeHTMLSchema:y(n.childNodes),mentions:[]}},T=function(n){var e=B("Form name",(0,c.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),t=e.mentionObj,r=e.mentionHtml,o=document.createElement("div");return o.innerHTML="New Tally Form Submission for ".concat(r),{safeHTMLSchema:y(o.childNodes),mentions:[t]}},U=function(n){var e=[],t=(0,c.VN)(n),r="",o=!0,i=!1,u=void 0;try{for(var l,a=t[Symbol.iterator]();!(o=(l=a.next()).done);o=!0){var d=l.value,f=B(d.title,d),p=f.mentionObj,s=f.mentionHtml;r+="<div><b>".concat(d.title,"</b></div><div>").concat(s,"</div><br/>"),e.push(p)}}catch(n){i=!0,u=n}finally{try{o||null==a.return||a.return()}finally{if(i)throw u}}var v=document.createElement("div");return v.innerHTML=r,{safeHTMLSchema:y(v.childNodes),mentions:e}},x=function(n){var e=[],t="",r=B("Form name",(0,c.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),o=r.mentionObj,i=r.mentionHtml;t+="<div>New submission for *".concat(i,"*.</div><br/>"),e.push(o);var u=!0,l=!1,a=void 0;try{for(var d,f=(0,c.VN)(n)[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value,s=B(p.title,p),v=s.mentionObj,h=s.mentionHtml;t+="<div>*".concat(p.title,"*: ").concat(h,"</div>"),e.push(v)}}catch(n){l=!0,a=n}finally{try{u||null==f.return||f.return()}finally{if(l)throw a}}var m=document.createElement("div");return m.innerHTML=t,{safeHTMLSchema:y(m.childNodes),mentions:e}},B=function(n,e){var t=(0,o.Z)();return{mentionObj:{uuid:t,field:e},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(t,'">@').concat(n,"</span>").concat((0,d.G6)()?"​":"")}}}}]);